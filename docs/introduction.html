<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Introduction  Reference</title>
    <link rel="stylesheet" type="text/css" href="css/jazzy.css" />
    <link rel="stylesheet" type="text/css" href="css/highlight.css" />
    <meta charset="utf-8">
    <script src="js/jquery.min.js" defer></script>
    <script src="js/jazzy.js" defer></script>
    
    <script src="js/lunr.min.js" defer></script>
    <script src="js/typeahead.jquery.js" defer></script>
    <script src="js/jazzy.search.js" defer></script>
  </head>
  <body>


    <a title="Introduction  Reference"></a>

    <header class="header">
      <p class="header-col header-col--primary">
        <a class="header-link" href="index.html">
          MetaSerialization Docs
        </a>
         (86% documented)
      </p>
    
      <p class="header-col--secondary">
        <form role="search" action="search.json">
          <input type="text" placeholder="Search documentation" data-typeahead>
        </form>
      </p>
    
        <p class="header-col header-col--secondary">
          <a class="header-link" href="https://github.com/cherrywoods/swift-meta-serialization">
            <img class="header-icon" src="img/gh.png"/>
            View on GitHub
          </a>
        </p>
    
    </header>

    <p class="breadcrumbs">
      <a class="breadcrumb" href="index.html">MetaSerialization Reference</a>
      <img class="carat" src="img/carat.png" />
      Introduction  Reference
    </p>

    <div class="content-wrapper">
      <nav class="navigation">
        <ul class="nav-groups">
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="Guides.html">Guides</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="about-metaserialization.html">About MetaSerialization</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="example-implementations.html">Example Implementations</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="getting-started.html">Getting-Started</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="installation.html">Installation</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="introduction.html">Introduction</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="readme.html">README</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="Classes.html">Classes</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/LinearCodingStack.html">LinearCodingStack</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/MetaDecoder.html">MetaDecoder</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/MetaDecoder/Errors.html">– Errors</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/MetaEncoder.html">MetaEncoder</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/MetaEncoder/Errors.html">– Errors</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/MetaKeyedDecodingContainer.html">MetaKeyedDecodingContainer</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/MetaKeyedEncodingContainer.html">MetaKeyedEncodingContainer</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/MetaSingleValueDecodingContainer.html">MetaSingleValueDecodingContainer</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/MetaSingleValueEncodingContainer.html">MetaSingleValueEncodingContainer</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/MetaUnkeyedDecodingContainer.html">MetaUnkeyedDecodingContainer</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/MetaUnkeyedEncodingContainer.html">MetaUnkeyedEncodingContainer</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/ReferencingCodingStorage.html">ReferencingCodingStorage</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/SimpleSerialization.html">SimpleSerialization</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="Enums.html">Enumerations</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Enums/Reference.html">Reference</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Enums/SpecialCodingKey.html">SpecialCodingKey</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="Extensions.html">Extensions</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Extensions/Array.html">Array</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Extensions/Dictionary.html">Dictionary</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="Protocols.html">Protocols</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Protocols/CodingStorage.html">CodingStorage</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Protocols/ContainerElementReference.html">ContainerElementReference</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Protocols/DecodingKeyedContainerMeta.html">DecodingKeyedContainerMeta</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Protocols/DecodingRepresentation.html">DecodingRepresentation</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Protocols/DecodingUnkeyedContainerMeta.html">DecodingUnkeyedContainerMeta</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Protocols/DirectlyDecodable.html">DirectlyDecodable</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Protocols/DirectlyEncodable.html">DirectlyEncodable</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Protocols/EncodingKeyedContainerMeta.html">EncodingKeyedContainerMeta</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Protocols/EncodingRepresentation.html">EncodingRepresentation</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Protocols/EncodingUnkeyedContainerMeta.html">EncodingUnkeyedContainerMeta</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Protocols/IntermediateDecoder.html">IntermediateDecoder</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Protocols/IntermediateEncoder.html">IntermediateEncoder</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Protocols.html#/s:17MetaSerialization0A0P">Meta</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Protocols/MetaSupplier.html">MetaSupplier</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Protocols.html#/s:17MetaSerialization03NilA0P">NilMeta</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Protocols/UnkeyedContainerMeta.html">UnkeyedContainerMeta</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Protocols/Unwrapper.html">Unwrapper</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="Structs.html">Structures</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/CodingStorageError.html">CodingStorageError</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/CodingStorageError/Reason.html">– Reason</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/IndexCodingKey.html">IndexCodingKey</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/KeyedContainerElementReference.html">KeyedContainerElementReference</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/KeyedErrorContainer.html">KeyedErrorContainer</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/MetaCodingKey.html">MetaCodingKey</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/NilMarker.html">NilMarker</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/PrimitivesEnumTranslator.html">PrimitivesEnumTranslator</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/PrimitivesEnumTranslator/Primitive.html">– Primitive</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/PrimitivesProtocolTranslator.html">PrimitivesProtocolTranslator</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/StandardCodingKey.html">StandardCodingKey</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/UnkeyedContainerElementReference.html">UnkeyedContainerElementReference</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="Typealiases.html">Type Aliases</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Typealiases.html#/s:17MetaSerialization15DirectlyCodablea">DirectlyCodable</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Typealiases.html#/s:17MetaSerialization14ErrorContainera">ErrorContainer</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Typealiases.html#/s:17MetaSerialization12ErrorEncodera">ErrorEncoder</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Typealiases.html#/s:17MetaSerialization014KeyedContainerA0a">KeyedContainerMeta</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Typealiases.html#/s:17MetaSerialization14Representationa">Representation</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Typealiases.html#/s:17MetaSerialization0B0a">Serialization</a>
              </li>
            </ul>
          </li>
        </ul>
      </nav>
      <article class="main-content">

        <section class="section">
          <div class="section-content">
            
            <h1 id='introduction' class='heading'>Introduction</h1>

<p>Lets pretend you liked to serialize to JSON and want to write your own library for this (yes, there are all ready frameworks for this and Foundation also contains an implementation, but lets also pretend you want to have your own).</p>

<p>If your write this library, you will somehow have to implement things like this:</p>

<ul>
<li>convert <code>Dictionary&lt;String, Any&gt;</code> to <code>{ ... }</code> in JSON,</li>
<li>convert <code>Array&lt;Any&gt;</code> to <code>[ ... ]</code>,</li>
<li>set quotation marks around Strings,</li>
</ul>

<p>and much more. But how will you handle any type that someone using your framework created? For example my special car type:</p>
<pre class="highlight swift"><code><span class="kd">class</span> <span class="kt">Car</span><span class="p">:</span> <span class="nf">Codable</span> <span class="p">{</span>
    <span class="k">let</span> <span class="nv">color</span><span class="p">:</span> <span class="kt">String</span>
    <span class="k">let</span> <span class="nv">maxSpeed</span><span class="p">:</span> <span class="kt">Int</span>
    <span class="k">var</span> <span class="nv">currentSpeed</span><span class="p">:</span> <span class="kt">Int</span>
    <span class="o">...</span>
<span class="p">}</span>
</code></pre>

<p>I would like to store and transmit it using JSON. You can&rsquo;t consider this type in your implementation, because you can&rsquo;t know all these custom types&hellip;</p>

<p>Luckyly Swift automatically provides me with implementations for <code>encode(to:)</code> to encode and <code>init(from:)</code> to decode, because <code>Car</code> conforms to <code>Codable</code>. These methods work fine and are able to serialize my type in a very format independent way, but those implementations require you to have custom <code>Decoder</code> and <code>Encoder</code> implementations.</p>

<p>If you now look at the <a href="https://github.com/apple/swift/blob/5.0-dont-hardcode-numbers-in-objc-block-sil/stdlib/public/SDK/Foundation/JSONEncoder.swift">JSONEncoder.swift file from Foundation</a> you can see, that there is a lot of code that needs to be written to implement a custom <code>Decoder</code> or <code>Encoder</code>. You may also see, that you might copy very large parts of this file for most serialization formats. In total: There&rsquo;s a lot of overhead.</p>

<p>Now luckly you should not have to copy this code, because this is what MetaSerialization is for:
It is here to save you from copying and provide you a simpler interface instead.</p>

<p>If you already implemented the code above, it should be possible integrate MetaSerialization into your project and provide support for <code>Codable</code> types in just two lines of code:</p>
<pre class="highlight swift"><code><span class="k">let</span> <span class="nv">translator</span> <span class="o">=</span> <span class="nf">PrimitivesEnumTranslator</span><span class="p">(</span><span class="nv">primitives</span><span class="p">:</span> <span class="o">.</span><span class="n">all</span><span class="p">)</span>
<span class="k">let</span> <span class="nv">serialization</span> <span class="o">=</span> <span class="kt">SimpleSerialization</span><span class="o">&lt;</span><span class="kt">Example1Container</span><span class="o">&gt;</span><span class="p">(</span><span class="nv">translator</span><span class="p">:</span> <span class="n">translator</span><span class="p">,</span> <span class="nv">encodeFromMeta</span><span class="p">:</span> <span class="n">yourEncodingFunction</span><span class="p">,</span> <span class="nv">decodeToMeta</span><span class="p">:</span> <span class="n">yourDecodingFunction</span><span class="p">)</span>
</code></pre>

<p>However, this very limited approach is not the only way to use MetaSerialization.
Read the <a href="https://github.com/cherrywoods/swift-meta-serialization/blob/master/docs/Guides/Getting-Started.md">Getting Started</a> guide the discover the other ways.</p>

          </div>
        </section>


      </article>
    </div>
    <section class="footer">
      <p>© 2016 cherrywoods under <a class="link" href="https://github.com/cherrywoods/swift-meta-serialization/blob/master/LICENSE" target="_blank" rel="external">Apache 2.0 license</a>.</p>
      <p>Generated by <a class="link" href="https://github.com/realm/jazzy" target="_blank" rel="external">jazzy ♪♫ v0.9.1</a>, a <a class="link" href="http://realm.io" target="_blank" rel="external">Realm</a> project.</p>
    </section>
  </body>
</div>
</html>
