<!DOCTYPE html>
<html lang="en">
  <head>
    <title>  Reference</title>
    <link rel="stylesheet" type="text/css" href="css/jazzy.css" />
    <link rel="stylesheet" type="text/css" href="css/highlight.css" />
    <meta charset='utf-8'>
    <script src="js/jquery.min.js" defer></script>
    <script src="js/jazzy.js" defer></script>
    
  </head>
  <body>
    <a title="  Reference"></a>
    <header>
      <div class="content-wrapper">
        <p><a href="index.html"> Docs</a> (63% documented)</p>
      </div>
    </header>
    <div class="content-wrapper">
      <p id="breadcrumbs">
        <a href="index.html"> Reference</a>
        <img id="carat" src="img/carat.png" />
          Reference
      </p>
    </div>
    <div class="content-wrapper">
      <nav class="sidebar">
        <ul class="nav-groups">
          <li class="nav-group-name">
            <a href="Classes.html">Classes</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Classes/ArrayUnkeyedContainerMeta.html">ArrayUnkeyedContainerMeta</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/CodingStack.html">CodingStack</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/CodingStack/Status.html">– Status</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/CodingStack/Operation.html">– Operation</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/CodingStack/StackError.html">– StackError</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/DictionaryKeyedContainerMeta.html">DictionaryKeyedContainerMeta</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/MetaDecoder.html">MetaDecoder</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/MetaEncoder.html">MetaEncoder</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/MetaKeyedDecodingContainer.html">MetaKeyedDecodingContainer</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/MetaSingleValueDecodingContainer.html">MetaSingleValueDecodingContainer</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/MetaUnkeyedDecodingContainer.html">MetaUnkeyedDecodingContainer</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes.html#/s:17MetaSerialization011ReferencingA7DecoderC">ReferencingMetaDecoder</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/ReferencingMetaEncoder.html">ReferencingMetaEncoder</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/SimpleGenericMeta.html">SimpleGenericMeta</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/TranslatingCoder.html">TranslatingCoder</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="Enums.html">Enumerations</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Enums/MetaEncodingError.html">MetaEncodingError</a>
              </li>
              <li class="nav-group-task">
                <a href="Enums/SpecialCodingKey.html">SpecialCodingKey</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="Protocols.html">Protocols</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Protocols/ContainerReference.html">ContainerReference</a>
              </li>
              <li class="nav-group-task">
                <a href="Protocols/DecodingRepresentation.html">DecodingRepresentation</a>
              </li>
              <li class="nav-group-task">
                <a href="Protocols/DirectlyDecodable.html">DirectlyDecodable</a>
              </li>
              <li class="nav-group-task">
                <a href="Protocols/DirectlyEncodable.html">DirectlyEncodable</a>
              </li>
              <li class="nav-group-task">
                <a href="Protocols/EncodingRepresentation.html">EncodingRepresentation</a>
              </li>
              <li class="nav-group-task">
                <a href="Protocols/GenericMeta.html">GenericMeta</a>
              </li>
              <li class="nav-group-task">
                <a href="Protocols/IntermediateDecoder.html">IntermediateDecoder</a>
              </li>
              <li class="nav-group-task">
                <a href="Protocols/IntermediateEncoder.html">IntermediateEncoder</a>
              </li>
              <li class="nav-group-task">
                <a href="Protocols/KeyedContainerMeta.html">KeyedContainerMeta</a>
              </li>
              <li class="nav-group-task">
                <a href="Protocols/Meta.html">Meta</a>
              </li>
              <li class="nav-group-task">
                <a href="Protocols/MetaCoder.html">MetaCoder</a>
              </li>
              <li class="nav-group-task">
                <a href="Protocols.html#/s:17MetaSerialization03NilA8ProtocolP">NilMetaProtocol</a>
              </li>
              <li class="nav-group-task">
                <a href="Protocols/Reference.html">Reference</a>
              </li>
              <li class="nav-group-task">
                <a href="Protocols/Representation.html">Representation</a>
              </li>
              <li class="nav-group-task">
                <a href="Protocols/Translator.html">Translator</a>
              </li>
              <li class="nav-group-task">
                <a href="Protocols/UnkeyedContainerMeta.html">UnkeyedContainerMeta</a>
              </li>
              <li class="nav-group-task">
                <a href="Protocols/WrappingMeta.html">WrappingMeta</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="Structs.html">Structures</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Structs/BoolWrappedToStringMeta.html">BoolWrappedToStringMeta</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/DirectReference.html">DirectReference</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/DoubleWrappedToStringMeta.html">DoubleWrappedToStringMeta</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/EmptyOnlyKeyedContainerMeta.html">EmptyOnlyKeyedContainerMeta</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/FloatWrappedToStringMeta.html">FloatWrappedToStringMeta</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/GenericNil.html">GenericNil</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/IndexCodingKey.html">IndexCodingKey</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/Int16WrappedToStringMeta.html">Int16WrappedToStringMeta</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/Int32WrappedToStringMeta.html">Int32WrappedToStringMeta</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/Int64WrappedToStringMeta.html">Int64WrappedToStringMeta</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/Int8WrappedToStringMeta.html">Int8WrappedToStringMeta</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/IntWrappedToStringMeta.html">IntWrappedToStringMeta</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/KeyedContainerReference.html">KeyedContainerReference</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/NilMeta.html">NilMeta</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/NonRegualarCodingKey.html">NonRegualarCodingKey</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/PrimitivesEnumTranslator.html">PrimitivesEnumTranslator</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/PrimitivesEnumTranslator/Primitive.html">– Primitive</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/PrimitivesEnumTranslator/Wrapper.html">– Wrapper</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/StackReference.html">StackReference</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/UInt16WrappedToStringMeta.html">UInt16WrappedToStringMeta</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/UInt32WrappedToStringMeta.html">UInt32WrappedToStringMeta</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/UInt64WrappedToStringMeta.html">UInt64WrappedToStringMeta</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/UInt8WrappedToStringMeta.html">UInt8WrappedToStringMeta</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/UIntWrappedToStringMeta.html">UIntWrappedToStringMeta</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/UnkeyedContainerReference.html">UnkeyedContainerReference</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/ValuePresenceIndicator.html">ValuePresenceIndicator</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="Typealiases.html">Type Aliases</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Typealiases.html#/s:17MetaSerialization15DirectlyCodablea">DirectlyCodable</a>
              </li>
              <li class="nav-group-task">
                <a href="Typealiases.html#/s:17MetaSerialization0B0a">Serialization</a>
              </li>
            </ul>
          </li>
        </ul>
      </nav>
      <article class="main-content">
        <section>
          <section class="section">
            
            <h1 id='metaserialization' class='heading'>MetaSerialization</h1>

<p><a href="https://github.com/Carthage/Carthage"><img src="https://img.shields.io/badge/Carthage-compatible-4BC51D.svg?style=flat" alt="Carthage compatible"></a></p>

<p>meta-serialization is a framework to simplify writing new serialisation libraries for the swift standard library environment (Encodable, Decodable, etc.)
It&rsquo;s aim is to let anyone create a serialization library that works with the swift serialization framework by nearly just writing the real serialization code.</p>

<p>This framework has is <strong>untested</strong>!
I would really appreciate your help testing this framework.</p>
<h2 id='what-it-does' class='heading'>What it does</h2>

<p>meta-serialization provides a layer inbetween your serialization framework and the swift standard library interface 
(mainly Encoder and Decoder) and furthermore provides you blueprints for some kinds of frontends.</p>
<h3 id='what-it-does-in-many-words' class='heading'>What it does in many words</h3>

<p>meta-serialization provides a MetaEncoder and MetaDecoder, that depend on a so-called Translator. </p>

<p>MetaDecoder and MetaEncoder create a representation of the serialized data in a meta format. 
This format is created in a way, that in the end the <em>meta tree</em> (as I call the in-between format) will only contain values, 
that <em>are natively supported by your framework</em> or in other words that you can encode directly. 
This enables you to serialize any swift class or struct or enum you write, 
plus any array, dictionary, tuple, Int, String, and so on to an external (I call it raw) representation that only supports, 
say, Numbers, String and some kind of Dictionarys and Arrays by mainly writing the code to convert a swift Int to your representation of a number, a swift String to your representation of a String, a swift Array of exclusively your supported types (Number, String, Dictionary, Array in this example) to your representation of a <em>unkeyed container</em> or Array and  a swift Dictionary (of exclusively your supported types) to your representation of a <em>keyed container</em> or Dictionary (or Map).</p>
<h2 id='installation' class='heading'>Installation</h2>

<p>Currently only carthage is supported (swift package manager is only half-way supported).
I can not guarante, that cartage will work out, It builds on my computer and all schemes are set public, but I never tried installing it somewere else. I did not manage to add full swift-package-manager support or cocoapods support.</p>
<h3 id='carthage' class='heading'>Carthage</h3>

<p>Add the following line to your projects Cartfile:</p>
<pre class="highlight plaintext"><code>github "cherrywoods/swift-meta-serialization"
</code></pre>

<p>For more information about cartage and it&rsquo;s usage, please consult <a href="https://github.com/Carthage/Carthage" title="https://github.com/Carthage/Carthage">carthage&rsquo;s github repository</a>.</p>
<h3 id='swift-package-manager-ios-only' class='heading'>Swift Package Manager (iOS only)</h3>

<p>You may use the swift package manager, but only for the iOS framework.
The other three targets aren&rsquo;t supported because refering to <a href="https://github.com/apple/swift-package-manager/blob/master/Documentation/PackageDescriptionV4.md#targets">the swift package manager repository</a> <q>It is an error if the paths of two targets overlap (unless resolved with exclude)</q> (If I missunderstood that part please open a pull request).
So, if you need the macOS, tvOS or watchOS target, you may not (simply) use the swift package manager, but the code for all the targets is pretty much the same (there is a little additional code for macOS, but these code only includes a String wrapping Meta For Float80).
However, insert the following code into your Package.swift file, into the dependencies array of your Package.</p>
<pre class="highlight swift"><code><span class="o">.</span><span class="nf">package</span><span class="p">(</span><span class="nv">url</span><span class="p">:</span> <span class="s">"https://github.com/cherrywoods/swift-meta-serialization.git"</span><span class="p">,</span> <span class="nv">from</span><span class="p">:</span> <span class="s">"0.0.4"</span><span class="p">),</span>
</code></pre>

<p>For more information about the swift package manager, visit <a href="https://swift.org/package-manager/" title="https://swift.org/package-manager/">https://swift.org/package-manager/</a>.</p>
<h2 id='usage' class='heading'>Usage</h2>

<p>There are multiple ways to use this framework.
A verry simple way is this one:</p>
<pre class="highlight swift"><code><span class="kd">import</span> <span class="kt">MetaSerialization</span>

<span class="k">var</span> <span class="nv">primitives</span> <span class="o">=</span> <span class="kt">Set</span><span class="o">&lt;</span><span class="kt">PrimitivesEnumTranslator</span><span class="o">.</span><span class="kt">Primitive</span><span class="o">&gt;</span><span class="p">()</span>
<span class="n">primitives</span><span class="o">.</span><span class="nf">insert</span><span class="p">(</span><span class="o">.</span><span class="n">string</span><span class="p">)</span> <span class="cm">/*this says, that we can only serialize Strings. */</span>

<span class="cm">/*
If we tried to serialize any value that had for example an Int property serialization would fail.
Adding all cases from the Primitives enum will enable us to serialize nearly any value.
*/</span>

<span class="k">let</span> <span class="nv">translator</span> <span class="o">=</span> <span class="kt">PrimitivesEnumTranslator</span><span class="p">(</span><span class="nv">primitives</span><span class="p">:</span> <span class="n">primitives</span><span class="p">,</span>
                                          <span class="nv">encode</span><span class="p">:</span> <span class="cm">/* your encoding closure */</span><span class="p">,</span>
                                          <span class="nv">decode</span><span class="p">:</span> <span class="cm">/* your decoding closure */</span><span class="p">)</span>

<span class="cm">/*
 The encoding closures get Any? as parameter,
 but you can be sure that the value is non nil in our example
 (but you may allow nil values, by adding .nil to your primitives)
 and one of your primitives (in this case String),
 an Array&lt;Any?&gt; or a Dictionary&lt;String, Any?&gt;,
 where the Any? parameter is again eigther a String, Array&lt;Any?&gt;,
 Dictionary&lt;String, Any?&gt; and so on.
 The decoding closure may only return one of that values.
*/</span>

<span class="cm">/*
 You need to provide a Raw type to SimpleSerialization, in this case we use Data.
 This type need to be the same you take in decode and return in encode.
*/</span>
<span class="k">let</span> <span class="nv">serialization</span> <span class="o">=</span> <span class="kt">SimpleSerialization</span><span class="o">&lt;</span><span class="kt">Data</span><span class="o">&gt;</span><span class="p">(</span><span class="nv">translator</span><span class="p">:</span> <span class="n">translator</span><span class="p">)</span>

<span class="c1">// now you might just call</span>
<span class="k">let</span> <span class="nv">encoded</span> <span class="o">=</span> <span class="k">try!</span> <span class="n">serialization</span><span class="o">.</span><span class="nf">encode</span><span class="p">(</span> <span class="cm">/*some object*/</span> <span class="p">)</span>

<span class="c1">// or:</span>
<span class="k">let</span> <span class="nv">decoded</span> <span class="o">=</span> <span class="k">try!</span> <span class="n">serialization</span><span class="o">.</span><span class="nf">decode</span><span class="p">(</span><span class="nv">type</span><span class="p">:</span> <span class="cm">/*some type*/</span><span class="p">,</span> <span class="nv">from</span><span class="p">:</span> <span class="cm">/*your raw object, some Data in this example*/</span><span class="p">)</span>
</code></pre>
<h2 id='further-documentation' class='heading'>Further documentation</h2>

<p>Please consult the documentation tab in github</p>
<h2 id='spelling-and-grammar-errors' class='heading'>Spelling and grammar errors</h2>

<p>The project documentation and sourcecode will contain spelling and grammar errors. If they obscure the meaning, please tell me about it.</p>

          </section>
        </section>
        <section id="footer">
          <p>&copy; 2017 <a class="link" href="" target="_blank" rel="external"></a>. All rights reserved. (Last updated: 2017-12-16)</p>
          <p>Generated by <a class="link" href="https://github.com/realm/jazzy" target="_blank" rel="external">jazzy ♪♫ v0.9.0</a>, a <a class="link" href="http://realm.io" target="_blank" rel="external">Realm</a> project.</p>
        </section>
      </article>
    </div>
  </body>
</div>
</html>
